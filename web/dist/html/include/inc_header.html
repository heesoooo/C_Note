<header class="header_pack ver2">
	<div class="inner_cont">
		<div class="util_wrap">
			<ul>
				<li class="user_name">
                    <!-- 220824 :: 프로필 사진 등록 -->
                    <figure class="profile">
                       <!-- <img src="https://via.placeholder.com/100x225.png"> -->
                    </figure>
                    김상민 선생님
                </li>
				<li><a href="#none">마이페이지</a></li>
				<li><a href="#none">고객센터</a></li>
				<li><a href="#none">로그아웃</a></li>
			</ul>
		</div>
		<div class="header_cont">
			<div class="header_left">
			 	<h1 class="brand"><a href="/">천재교과서 알림장</a></h1>
                <!-- 220831 :: GNB 삭제-->
				<!-- <nav class="gnb">
					<ul>
						<li class="active"><a href="#none">클래스</a></li>
						<li><a href="#none">T톡</a></li>
					</ul>
				</nav> -->
			</div>
			<div class="header_right">
				<a href="#none" class="badge_talk">T톡</a>
				<a href="#none" class="badge_search btn_header_search">검색</a>

                <!-- 220812 :: 알람이 없을경우 .on 삭제 -->
				<div class="badge_alarm on">
					<a href="#none">알람</a>
					<!-- 알림 클릭시 box -->
					<div class="header_alarm_wrap">
						<div class="inner">
							<h3>알림</h3>
							<!--  등록된 글이 없을 때 -->							
							<div class="no_data" style="display: none;">
								최근 소식이 없습니다.
							</div>
							<!--  //등록된 글이 없을 때 -->

							<!-- 알림 리스트 -->
							<ul class="scroll_box alarm_list">
								<li>
									<a href="#none">
										<figure class="profile">
											<img src="../../img/profile_test.jpg" alt="">

										</figure>
										<div class="cont_wrap">
											<span class="category">알림장</span>
											<p class="content">
												코로나 유증상시 등교 중지 등교시 체크<br>
												내일 국악 소풍(경기국악원) - 학급반티 입고 등교하기
											</p>
											<span class="date">2022.04.06 08:32</span>
										</div>
									</a>
								</li>
								<li>
									<a href="#none">
										<figure class="profile">
											<img src="../../img/profile_test.jpg" alt="">

										</figure>
										<div class="cont_wrap">
											<span class="category">알림장</span>
											<p class="content">
												코로나 유증상시 등교 중지 등교시 체크<br>
												내일 국악 소풍(경기국악원) - 학급반티 입고 등교하기
											</p>
											<span class="date">2022.04.06 08:32</span>
										</div>
									</a>
								</li>
								<li>
									<a href="#none">
										<figure class="profile"></figure>
										<div class="cont_wrap">
											<span class="category">가산초등학교 가정통신문</span>
											<p class="content">
												코로나 유증상시 등교 중지 등교시 체크<br>
												내일 국악 소풍(경기국악원) - 학급반티 입고 등교하기
											</p>
											<span class="date">2022.04.06 08:32</span>
										</div>
									</a>
								</li>
							</ul>
							<!-- //알림 리스트 -->
						</div>
					</div>
					<!-- /알림 클릭시 box -->
				</div>
			</div>
		</div>
	</div>
	<!-- 클래스, 학교 찾기 search box -->
	<div class="header_search_wrap">
		<div class="inner">
			<div class="input_full">
				<input type="text" placeholder="클래스, 학교찾기">
				<a href="#none" class="btn_clear"></a>
				<a href="#none" class="btn_find"></a>
			</div>
		</div>
	</div>
	<!-- search wrap dimm -->
	<div class="search_dimmed"></div>
	<!-- //클래스, 학교 찾기 search box -->
</header>


<script>
	$(function(){
		// header fixed
		$(window).on('scroll', function() {
			headerFixed();
		});
		headerFixed();
		 		
		function getCurrentScroll() {
			return window.pageYOffset || document.documentElement.scrollTop;
		}
		function headerFixed() {
			var scroll = getCurrentScroll();
			if (scroll >= 50) {
				$('.header_pack, .header_search_wrap').addClass('fixed');
			} else {
				$('.header_pack, .header_search_wrap').removeClass('fixed');
			}
		}

		// 검색창 입력시 clear button 제어
		$(".header_search_wrap input").on("input", function(){
			if( $(".header_search_wrap input").val() == '' ) {
				$(".header_search_wrap .btn_clear").hide();
				$(".header_search_wrap .btn_find").removeClass("active");
			} else {
				$(".header_search_wrap .btn_clear").show();
				$(".header_search_wrap .btn_find").addClass("active");
			}
		})

		// input clear button 클릭시
		$(".btn_clear").on("click", function(e){
			e.preventDefault();
			$(".header_search_wrap input").val("");
			$(".header_search_wrap .btn_find").removeClass("active");
			$(this).hide();
		});
		
		// 검색버튼 클릭시
		$(".btn_header_search").on("click", function(e){
			e.preventDefault();
			$(this).toggleClass("on").parents("body").addClass("ovh");
			$(".search_dimmed, .header_search_wrap").fadeIn(200);
			if ( ! $(this).hasClass("on") )	{
				$(this).parents("body").removeClass("ovh");
				$(".search_dimmed, .header_search_wrap").fadeOut(100);
			}
		})

		// dimm 클릭시
		$(".search_dimmed").on("click",function(e){
			e.preventDefault();
			$(this).parents("body").removeClass("ovh");
			$(".search_dimmed, .header_search_wrap").fadeOut(100);
			$(".btn_header_search").removeClass("on");
		})

		// 알림 버튼
		$(".badge_alarm a").on("click", function(e){
			e.preventDefault();
			$(".header_alarm_wrap").toggle();
		});
		$(document).mouseup(function(e) {
			if(!$(".badge_alarm").has(e.target).length > 0) {
				$('.header_alarm_wrap').hide();
			} 
		});
		
	});
</script>